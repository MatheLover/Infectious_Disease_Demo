<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Rainfall Scatterplot</title>

    <!-- Bootstrap CSS file -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">

    <link rel="stylesheet" type="text/css" href="http://cdn.pydata.org/bokeh/release/bokeh-2.2.3.min.css"/>
    <link rel="stylesheet" type="text/css" href="http://cdn.pydata.org/bokeh/release/bokeh-widgets-2.2.3.min.css"/>
    <link rel="stylesheet" type="text/css" href="http://cdn.pydata.org/bokeh/release/bokeh-tables-2.2.3.min.css"/>

    <script>
        function resetFilter() {
            var dropdownCountry = document.getElementById("Country");
            dropdownCountry.selectedIndex = 0;


       }


    </script>

</head>
<body>
<div class="container-xl">
    <center>
        <div class="jumbotron">
            <h1>Infectious Disease Visualization System (Malaria)</h1>
            <hr>
            <a href="http://127.0.0.1:8000/malaria/malaria_home.html" class="btn btn-info" role="button">Home</a>
            <a href="http://127.0.0.1:8000/malaria/malaria_about.html" class="btn btn-info" role="button">About</a>
            <a href="http://127.0.0.1:8000/malaria/malaria_map.html" class="btn btn-info" role="button">Malaria
                Statistics Mapping</a>
            <a href="http://127.0.0.1:8000/malaria/malaria_environmental_factor.html" class="btn btn-info"
               role="button">Environmental Factor</a>
            <a href="http://127.0.0.1:8000/malaria/malaria_socioeconomic_factor.html" class="btn btn-info"
               role="button">Socioeconomic Factor</a>

        </div>

        <h1>Please use the selector to view scatterplot of malaria vs rainfall </h1>
        <br>
        <form target="_blank" action="{% url 'malaria_rainfall_scatterplot' %}" onsubmit="return validateInput()"
              method="get">
            <select id="Location" name="Location">
                <option disabled="true" selected>Select world or a continent</option>
                <option value="African">African</option>
                <option value="Americas">Americas</option>
                <option value="Eastern Mediterranean">Eastern Mediterranean</option>
                <option value="South-East Asia">South-East Asia</option>
                <option value="Western Pacific">Western Pacific</option>
            </select>
            <select id="Year" name="Year">
                <option disabled="true" selected>Select specific year</option>

                <option value="2010">2010</option>
                <option value="2011">2011</option>
                <option value="2012">2012</option>
                <option value="2013">2013</option>
                <option value="2014">2014</option>
                <option value="2015">2015</option>
                <option value="2016">2016</option>
                <option value="2017">2017</option>
                <option value="2018">2018</option>
            </select>
            <input type="submit" value="Submit Query"/>
            <input type="button" id="buttonReset" value="Reset" onclick="resetFilter();"/>
        </form>

        {{ div_pop_rainfall | safe}}
        {% if r2_value_pop != null %}
        <p>The coefficient of determination is {{ r2_value_pop }}</p>
        {% endif %}
        <br>
        {{ div_case_rainfall | safe}}
        {% if r2_value_case != null %}
        <p>The coefficient of determination is {{ r2_value_case }}</p>
        {% endif %}
    </center>
</div>


</body>
<script src="http://cdn.pydata.org/bokeh/release/bokeh-2.2.3.min.js" type="text/javascript"></script>
<script src="http://cdn.pydata.org/bokeh/release/bokeh-widgets-2.2.3.min.js" type="text/javascript"></script>
<script src="http://cdn.pydata.org/bokeh/release/bokeh-tables-2.2.3.min.js" type="text/javascript"></script>
<script src="http://cdn.pydata.org/bokeh/release/bokeh-api-2.2.3.min.js" type="text/javascript"></script>
{{ script_pop_rainfall | safe }}
{{ script_case_rainfall | safe }}
</html>